// Generated by CoffeeScript 1.8.0
(function() {
  var BAR_ANGLE, BAR_COUNT, INNER_OFFSET, INNER_RADIUS, OUTER_OFFSET, OUTER_RADIUS, center, ease, sketch;

  BAR_COUNT = 200;

  BAR_ANGLE = Math.PI * 2 / BAR_COUNT;

  INNER_RADIUS = 80;

  OUTER_RADIUS = 90;

  INNER_OFFSET = -10;

  OUTER_OFFSET = 60;

  sketch = Sketch.create({
    container: document.getElementById('container')
  });

  center = {
    x: 0,
    y: 0
  };

  sketch.setup = function() {
    return sketch.resize();
  };

  sketch.resize = function() {
    center.x = sketch.width / 2;
    return center.y = sketch.height / 2;
  };

  sketch.draw = function() {
    var BAR_STEP, ROTATION, alphaRatio, index, innerRadius, innerRatio, length, outerRadius, outerRatio, ratio, x, y, _i, _results;
    sketch.clear();
    BAR_STEP = sketch.millis * 0.005;
    ROTATION = sketch.millis * 0.0002;
    _results = [];
    for (index = _i = 0; 0 <= BAR_COUNT ? _i < BAR_COUNT : _i > BAR_COUNT; index = 0 <= BAR_COUNT ? ++_i : --_i) {
      ratio = 1 - index / BAR_COUNT * 2;
      length = (1 + Math.cos(ratio * BAR_STEP)) / 2;
      alphaRatio = ease(length, 1, 1, -0.8);
      innerRatio = ease(length, 1, 1, -1);
      outerRatio = ease(length, 1, 1, -1);
      innerRadius = INNER_RADIUS + innerRatio * INNER_OFFSET;
      outerRadius = OUTER_RADIUS + outerRatio * OUTER_OFFSET;
      x = Math.cos(index * BAR_ANGLE - HALF_PI + ROTATION);
      y = Math.sin(index * BAR_ANGLE - HALF_PI + ROTATION);
      sketch.beginPath();
      sketch.moveTo(center.x + x * innerRadius, center.y + y * innerRadius);
      sketch.lineTo(center.x + x * outerRadius, center.y + y * outerRadius);
      sketch.strokeStyle = "rgba(255, 235, 175, " + alphaRatio + ")";
      sketch.lineWidth = 0.5;
      _results.push(sketch.stroke());
    }
    return _results;
  };

  ease = function(t, d, b, c) {
    return -c * (t /= d) * (t - 2) + b;
  };

}).call(this);

//# sourceMappingURL=sketchfile.js.map
